services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Botilka\EventStore\EventStore: '@Botilka\Infrastructure\Doctrine\EventStoreDoctrine'
    Botilka\Infrastructure\Doctrine\EventStoreDoctrine:
        arguments:
            $tableName: '%botilka.event_store.collection%'

    Botilka\Snapshot\SnapshotStore: '@Botilka\Infrastructure\Doctrine\SnapshotStoreDoctrine'
    Botilka\Infrastructure\Doctrine\SnapshotStoreDoctrine:
        arguments:
            $tableName: '%botilka.snapshot_store.collection%'

    Botilka\EventStore\EventStoreManager: '@Botilka\Infrastructure\Doctrine\EventStoreManagerDoctrine'
    Botilka\Infrastructure\Doctrine\EventStoreManagerDoctrine:
        arguments:
            $tableName: '%botilka.event_store.collection%'

    Botilka\Infrastructure\Doctrine\Initializer\EventStoreDoctrineInitializer:
        arguments:
            $tableName: '%botilka.event_store.collection%'

    Botilka\Infrastructure\Doctrine\Initializer\SnapshotStoreDoctrineInitializer:
        arguments:
            $tableName: '%botilka.snapshot_store.collection%'
